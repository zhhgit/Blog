---
layout: page
title: 统计
permalink: /analytics/index.html
description: "数据统计页面"
chart: true
---

<div>
  <h2 class="totalNum">累计{{ site.posts.size }}篇博文</h2>
  <div class="chart" id="tag" style="width: 100%; height: 500px; margin-bottom: 20px;" ></div>
  <figcaption>博文分类统计</figcaption>
</div>


<!-- amCharts javascript code -->
<script type="text/javascript">

  AmCharts.makeChart("tag",
    {
      "type": "serial",
      "pathToImages": "http://cdn.amcharts.com/lib/3/images/",
      "balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
      "theme": "none",
      "dataProvider": [
{% assign tags_list = site.tags %}  
  {% if tags_list.first[0] == null %}
    {% for tag in tags_list %} 
        {
          "category": "{{ tag }}",
          "number-of-posts": {{ site.tags[tag].size }},
          "color": "#0E8ED0"
        },
    {% endfor %}
  {% else %}
    {% for tag in tags_list %} 
        {
          "category": "{{ tag[0] }}",
          "number-of-posts": {{ tag[1].size }},
          "color": "#0E8ED0"
        },
    {% endfor %}
  {% endif %}
{% assign tags_list = nil %}
      ],
    "valueAxes": [{
        "axisAlpha": 0,
        "position": "left",
        "title": "Number of posts"
    }],
    "startDuration": 1,
    "graphs": [{
        "balloonText": "<b>[[category]]: [[value]]</b>",
        "colorField": "color",
        "fillAlphas": 0.9,
        "lineAlpha": 0.2,
        "type": "column",
        "valueField": "number-of-posts"
    }],
    "chartCursor": {
        "categoryBalloonEnabled": false,
        "cursorAlpha": 0,
        "zoomable": false
    },
    // "rotate": true,
    "chartScrollbar": {},
    "chartCursor": {
        "cursorPosition": "mouse"
    },
    "categoryField": "category",
    "categoryAxis": {
        "gridPosition": "start",
        "labelRotation": 45
    },
    "amExport":{}
    }
  );

</script>